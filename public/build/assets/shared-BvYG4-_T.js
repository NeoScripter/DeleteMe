import{r as v,j as e,m as f,L as C}from"./app-0iP0vhez.js";import{C as y,b as T,c as _,L as w,A as g,T as N,a as p}from"./text-Kc3frtKk.js";import{B as u}from"./app-logo-icon-OpdgY0RP.js";import{I as A}from"./label-louyxZuT.js";import{c as h}from"./clsx-B-dksMZM.js";import{C as L,X as F,A as D}from"./app-layout-B82tJzU0.js";import{p as j}from"./pick-block-CKfaG52V.js";import"./createLucideIcon-DTQ45d9F.js";import"./index-CP1t7-qJ.js";import"./index-BgXTBlmt.js";import"./index-Cbe2s9yu.js";function E({label:s,texts:a,onChange:i,errors:l}){const o=v.useId(),d=(t,r)=>{const x=[...a];x[t]=r,i(x)},c=t=>{const r=[...a];r.splice(t,1),i(r)},n=()=>{i([...a,""])};return e.jsx("div",{className:"border-muted mb-4 w-full space-y-2 rounded-xl border p-2 pb-0 shadow-sm",children:e.jsxs(y,{className:"space-y-2",children:[e.jsxs(T,{className:"flex w-full cursor-pointer items-center justify-between space-x-4 px-4",children:[e.jsx("h4",{className:"text-sm font-semibold",children:s}),e.jsxs("div",{className:"my-2",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Toggle"})]})]}),e.jsxs(_,{className:"space-y-2 pb-2",children:[a.map((t,r)=>{const x=`texts.${r}`,m=l==null?void 0:l[x];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{id:o+r,value:t||"",onChange:b=>d(r,b.target.value),className:h(m&&"border-red-500")}),e.jsx(u,{onClick:()=>c(r),variant:"ghost",type:"button",className:h("cursor-pointer"),children:e.jsx(F,{className:"size-5"})})]}),m&&e.jsx("p",{className:"mt-1 ml-1 text-sm text-red-500",children:m})]},o+r)}),e.jsxs(u,{onClick:n,type:"button",variant:"outline",className:"ml-auto flex items-center gap-2 cursor-pointer",children:["Добавить пункт",e.jsx(w,{})]})]})]})})}function I({block:s,slug:a,label:i}){const{data:l,setData:o,post:d,processing:c,errors:n}=f({text:(s==null?void 0:s.text)||"",texts:(s==null?void 0:s.texts)||[],page_slug:"shared",block_slug:a});return e.jsxs(g,{label:i,post:d,toastMessage:"Информация подвала успешно изменена!",routeName:"admin.update",blockSlug:a,disabled:c,children:[e.jsx(N,{label:"Заголовок",value:l.text,onChange:t=>o("text",t),error:n.text}),e.jsx(E,{label:"Контактные данные",texts:l.texts,onChange:t=>o("texts",t),errors:n})]})}function S({block:s,slug:a,label:i}){const{data:l,setData:o,post:d,processing:c,errors:n}=f({text:(s==null?void 0:s.text)||"",page_slug:"shared",block_slug:a});return e.jsx(g,{label:i,post:d,toastMessage:"Заголовок успешно изменен!",routeName:"admin.update",blockSlug:a,disabled:c,children:e.jsx(N,{label:"Заголовок",value:l.text,onChange:t=>o("text",t),error:n.text})})}const B=[{title:"Общие элементы",href:"/shared"}];function G({blocks:s}){return e.jsxs(D,{breadcrumbs:B,children:[e.jsx(C,{title:"Общее"}),e.jsxs("div",{className:"max-w-4xl space-y-4 px-2 md:px-4",children:[e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h2",{className:"p-2 text-lg font-bold",children:"Шапка"}),e.jsx(p,{children:e.jsx(S,{label:"Заголовок",block:j(s,"header_title"),slug:"header_title"})})]})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h2",{className:"p-2 text-lg font-bold",children:"Подвал"}),e.jsx(p,{children:e.jsx(I,{label:"Подвал",block:j(s,"footer_title"),slug:"footer_title"})})]})})]})]})}export{G as default};
