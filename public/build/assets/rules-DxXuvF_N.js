import{m as u,j as e,L as d}from"./app-Bdt7yXFh.js";import{C as x,R as j,A as g}from"./contents-Di7h8k47.js";import{A as p,T as f,a as h}from"./text-CxUfDFwB.js";import{A as _}from"./app-layout-Dur0fQYQ.js";import{u as b,r as v}from"./range-BdoJNeIq.js";import{p as c}from"./pick-block-CKfaG52V.js";import"./createLucideIcon-D4AYd33U.js";import"./clsx-B-dksMZM.js";import"./app-logo-icon-vRnyrDDh.js";import"./index-BdGQhXa6.js";import"./index-CE7Dcz8U.js";import"./index-CWg8Q1qF.js";import"./label-CVkA4R70.js";function C({block:s,slug:r,label:a}){const{data:o,setData:t,post:n,processing:l,errors:i}=u({contents:(s==null?void 0:s.contents)||[],page_slug:"rules",block_slug:r});return e.jsx(p,{label:a,post:n,toastMessage:"Секция успешно изменена!",routeName:"admin.update",blockSlug:r,disabled:l,children:e.jsx(x,{label:"Содержание секции",contents:o.contents,onChange:m=>t("contents",m),errors:i})})}function N({block:s,slug:r,label:a}){const{data:o,setData:t,post:n,processing:l,errors:i}=u({text:(s==null?void 0:s.text)||"",page_slug:"rules",block_slug:r});return e.jsx(p,{label:a,post:n,toastMessage:"Заголовок успешно изменен!",routeName:"admin.update",blockSlug:r,disabled:l,children:e.jsx(f,{label:"Заголовок",value:o.text,onChange:m=>t("text",m),error:i.text})})}const A=[{title:"Правила сервиса",href:"/rules"}];function E({blocks:s}){const{value:r,increment:a,decrement:o}=b("rules_section",s);return e.jsxs(_,{breadcrumbs:A,children:[e.jsx(d,{title:"Политика"}),e.jsx("div",{className:"max-w-4xl space-y-4 px-2 md:px-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"p-2 text-lg font-bold",children:"Правила сервиса"}),e.jsxs(h,{children:[e.jsx(N,{label:"Заголовок",block:c(s,"rules_title"),slug:"rules_title"}),v(1,r).map(t=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(C,{label:`Секция ${t}`,block:c(s,`rules_section${t}`),slug:`rules_section${t}`})}),e.jsx(j,{onClick:o,className:"mt-4",data:{page_slug:"rules",block_slug:`rules_section${t}`}})]},`rules_section${t}`)),e.jsx(g,{className:"mt-2 mb-4",content:"Добавить секцию",onClick:a})]})]})})]})}export{E as default};
