import{m as p,j as e,L as x}from"./app-D7nVFv6_.js";import{C as u,R as j,A as g}from"./contents-gzQGSWaQ.js";import{A as d,T as y,a as f}from"./text-CUpCrqRI.js";import{A as h}from"./app-layout-BwygWWyo.js";import{u as _,r as b}from"./range-qcaLgJzQ.js";import{p as m}from"./pick-block-CKfaG52V.js";import"./createLucideIcon-CcjfgOYB.js";import"./clsx-B-dksMZM.js";import"./app-logo-icon-CEwedYIa.js";import"./index-C9Wa1xBU.js";import"./index-BMe1AGvZ.js";import"./index-CmnLn6CI.js";import"./label-DCU82XNE.js";function v({block:t,slug:o,label:a}){const{data:n,setData:s,post:r,processing:i,errors:l}=p({contents:(t==null?void 0:t.contents)||[],page_slug:"policy",block_slug:o});return e.jsx(d,{label:a,post:r,toastMessage:"Секция успешно изменена!",routeName:"admin.update",blockSlug:o,disabled:i,children:e.jsx(u,{label:"Содержание секции",contents:n.contents,onChange:c=>s("contents",c),errors:l})})}function C({block:t,slug:o,label:a}){const{data:n,setData:s,post:r,processing:i,errors:l}=p({text:(t==null?void 0:t.text)||"",page_slug:"policy",block_slug:o});return e.jsx(d,{label:a,post:r,toastMessage:"Заголовок успешно изменен!",routeName:"admin.update",blockSlug:o,disabled:i,children:e.jsx(y,{label:"Заголовок",value:n.text,onChange:c=>s("text",c),error:l.text})})}const N=[{title:"Политика конфиденциальности",href:"/policy"}];function w({blocks:t}){const{value:o,increment:a,decrement:n}=_("policy_section",t);return e.jsxs(h,{breadcrumbs:N,children:[e.jsx(x,{title:"Политика"}),e.jsx("div",{className:"max-w-4xl space-y-4 px-2 md:px-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"p-2 text-lg font-bold",children:"Политика конфиденциальности"}),e.jsxs(f,{children:[e.jsx(C,{label:"Заголовок",block:m(t,"policy_title"),slug:"policy_title"}),b(1,o).map(s=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(v,{label:`Секция ${s}`,block:m(t,`policy_section${s}`),slug:`policy_section${s}`})}),e.jsx(j,{onClick:n,className:"mt-4",data:{page_slug:"policy",block_slug:`policy_section${s}`}})]},`policy_section${s}`)),e.jsx(g,{className:"mt-2 mb-4",content:"Добавить секцию",onClick:a})]})]})})]})}export{w as default};
