import{m as p,j as e,L as x}from"./app-CSqGpIcX.js";import{C as g,R as u,A as j}from"./contents-fX2zyhiu.js";import{A as d,T as f,a as h}from"./text-DXEcdW-E.js";import{A as _}from"./app-layout-CtYwSXSo.js";import{u as A,r as b}from"./range-CFZMh9h1.js";import{p as c}from"./pick-block-CKfaG52V.js";import"./createLucideIcon-Y46dAA9J.js";import"./clsx-B-dksMZM.js";import"./app-logo-icon-BNir2gUA.js";import"./index-CGFRGZlS.js";import"./index-5enSY1qM.js";import"./index-zkut4c5d.js";import"./label--lPSOvnb.js";function v({block:t,slug:a,label:n}){const{data:r,setData:s,post:o,processing:m,errors:i}=p({contents:(t==null?void 0:t.contents)||[],page_slug:"agreement",block_slug:a});return e.jsx(d,{label:n,post:o,toastMessage:"Секция успешно изменена!",routeName:"admin.update",blockSlug:a,disabled:m,children:e.jsx(g,{label:"Содержание секции",contents:r.contents,onChange:l=>s("contents",l),errors:i})})}function C({block:t,slug:a,label:n}){const{data:r,setData:s,post:o,processing:m,errors:i}=p({text:(t==null?void 0:t.text)||"",page_slug:"agreement",block_slug:a});return e.jsx(d,{label:n,post:o,toastMessage:"Заголовок успешно изменен!",routeName:"admin.update",blockSlug:a,disabled:m,children:e.jsx(f,{label:"Заголовок",value:r.text,onChange:l=>s("text",l),error:i.text})})}const N=[{title:"Пользовательское соглашение",href:"/agreement"}];function E({blocks:t}){const{value:a,increment:n,decrement:r}=A("agreement_section",t);return e.jsxs(_,{breadcrumbs:N,children:[e.jsx(x,{title:"Политика"}),e.jsx("div",{className:"max-w-4xl space-y-4 px-2 md:px-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"p-2 text-lg font-bold",children:"Правила сервиса"}),e.jsxs(h,{children:[e.jsx(C,{label:"Заголовок",block:c(t,"agreement_title"),slug:"agreement_title"}),b(1,a).map(s=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(v,{label:`Секция ${s}`,block:c(t,`agreement_section${s}`),slug:`agreement_section${s}`})}),e.jsx(u,{onClick:r,className:"mt-4",data:{page_slug:"agreement",block_slug:`agreement_section${s}`}})]},`agreement_section${s}`)),e.jsx(j,{className:"mt-2 mb-4",content:"Добавить секцию",onClick:n})]})]})})]})}export{E as default};
